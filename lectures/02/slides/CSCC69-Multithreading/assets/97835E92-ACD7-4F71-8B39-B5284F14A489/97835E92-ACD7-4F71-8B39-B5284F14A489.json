{"assets":{"20405BE1246311560A58D6226345429E":{"type":"texture","index":0,"url":{"native":"assets\/97835E92-ACD7-4F71-8B39-B5284F14A489.pdf"},"width":1024,"height":768},"031ECE90A280BB0F55195B1FB98D6025":{"type":"texture","index":1,"url":{"native":"assets\/97835E92-ACD7-4F71-8B39-B5284F14A489.pdf"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00049229876906403734,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"031ECE90A280BB0F55195B1FB98D6025"},{"animations":[{"additive":false,"timeOffset":0,"beginTime":0,"from":{"scalar":false},"repeatCount":0,"fillMode":"both","duration":0.001,"autoreverses":false,"property":"hidden","to":{"scalar":true},"removedOnCompletion":false}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"20405BE1246311560A58D6226345429E"}]}]},"effects":[],"duration":0.001,"type":"transition","attributes":{"direction":0},"name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"(good) implementation of a sleeping lock","targetRectangle":{"y":6.566706657409668,"x":667.24444580078125,"width":323.0859375,"height":162}},{"text":"struct lock { ","targetRectangle":{"y":64.564731597900391,"x":27.290159225463867,"width":201.6328125,"height":27}},{"text":"    int held = 0;","targetRectangle":{"y":91.564731597900391,"x":27.290159225463867,"width":244.83984375,"height":27}},{"text":"    queue Q; ","targetRectangle":{"y":118.56473159790039,"x":27.290159225463867,"width":187.23046875,"height":27}},{"text":"} ","targetRectangle":{"y":145.56473159790039,"x":27.290159225463867,"width":28.8046875,"height":27}},{"text":"void acquire (lock) { ","targetRectangle":{"y":199.56473159790039,"x":27.290159225463867,"width":316.8515625,"height":27}},{"text":"     disable_interrupts();    ","targetRectangle":{"y":226.56473159790039,"x":27.290159225463867,"width":432.0703125,"height":27}},{"text":"     while (lock->held){","targetRectangle":{"y":253.56473159790039,"x":27.290159225463867,"width":345.65625,"height":27}},{"text":"     enqueue(lock->Q, current_thread);\\u2028     thread_block(current_thread);","targetRectangle":{"y":280.56473159790039,"x":81.290159225463867,"width":554.2890625,"height":54}},{"text":"     }","targetRectangle":{"y":334.56473159790039,"x":27.290159225463867,"width":86.4140625,"height":27}},{"text":"     lock->held = 1;","targetRectangle":{"y":361.56473159790039,"x":27.290159225463867,"width":288.046875,"height":27}},{"text":"     enable_interrupts();","targetRectangle":{"y":388.56473159790039,"x":27.290159225463867,"width":360.05859375,"height":27}},{"text":"} ","targetRectangle":{"y":415.56473159790039,"x":27.290159225463867,"width":28.8046875,"height":27}},{"text":"void release (lock) { ","targetRectangle":{"y":469.56473159790039,"x":27.290159225463867,"width":316.8515625,"height":27}},{"text":"    disable_interrupts();","targetRectangle":{"y":496.56473159790039,"x":27.290159225463867,"width":360.05859375,"height":27}},{"text":"  if (!isEmpty(lock->Q)){","targetRectangle":{"y":523.56473159790039,"x":54.290159225463867,"width":360.05859375,"height":27}},{"text":"thread_unblock(dequeue(lock->Q));","targetRectangle":{"y":550.56473159790039,"x":135.29015922546387,"width":475.27734375,"height":27}},{"text":"  }","targetRectangle":{"y":577.56473159790039,"x":54.290159225463867,"width":43.20703125,"height":27}},{"text":"  lock->held = 0;","targetRectangle":{"y":604.56473159790039,"x":54.290159225463867,"width":244.83984375,"height":27}},{"text":"    enable_interrupts();","targetRectangle":{"y":631.56473159790039,"x":27.290159225463867,"width":345.65625,"height":27}},{"text":"}","targetRectangle":{"y":658.56473159790039,"x":27.290159225463867,"width":14.40234375,"height":27}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.00049229876906403734,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"20405BE1246311560A58D6226345429E"}]}]}}]}